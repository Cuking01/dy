# 竞技场

## 结构
>
> ```tex
> 首先竞技场的结构组成,由玩家的rating,总排行榜,挑战功能,以及商店和唯一奖励构成.
> 每个玩家拥有一个rating分,总排行榜按照rating分排名,挑战时按rating随机匹配.
> 唯一奖励可以暂时先不做.
> ```
>

## rating

> ```
> rating是评价一个人综合战力的数值体系,一般来讲,战力越高,则rating越高.
> 竞技场更新之后,所有已注册玩家获得2000的初始rating分数,之后新注册的玩家也会获得等同的分数.
> rating随挑战与被挑战事件的发生而变化,具体变化规则见后.
> ```

## 关于赛季

> ```latex
> 竞技场每一个月为一赛季,赛季结束时,结算唯一奖励和常规奖励,并且重置所有玩家的rating分数.
> 重置规则为,如果之前低于3000分,则重置至2000分,如果之前高于3000分,则按照分数高低,获得一个2000~3000内的初始分.如果之前仅有2000或者更低的分数,则重置至(1800-等级)分(这是为了防止退坑玩家污染萌新的战斗场所,同时把等级最低的一帮退坑玩家排名拉高,保证让新玩家能入坑竞技场)
> 重置的目的,1是使新玩家更迅速的参与到竞技场中,2是为了保持活跃度.
> 同时旧赛季分数越高,则初始分越高,这是为了让新赛季尽快进入状态.
> ```
>
> 高于3000分时,重置公式如下,设原始分数为a,则计算方式如下
>
> $A=\frac{a-3000}{100} \\ 新分数=2000+1000*(1-\frac{1}{1.2^A})$
>
> 当高于3000分时,新赛季分数和旧赛季分数关系如下图.
>
> ![](https://cdn.luogu.com.cn/upload/image_hosting/3vzweafg.png)
>
> 

## rating与挑战机制

> ```tex
> 当玩家发起一次挑战时,会从排行榜中,与其排名接近的人里随机挑选一位与其战斗,每次挑战在比其排名低3名到高3名之间的人中随机一个人,进行挑战.
> 留出一定范围的原因是,防止出现三角克制的情况,以及针对性克制的情况,这样更有利于综合战斗力的比较.
> ```
>
> ```
> 关于rating的计算,有一个基准分,每胜一场,则分数增加50,败则减50(包括被挑战者亦是如此).
> 同时,如果对战两者分数差距较大,则会在基准分的基础上进行调整.
> 比如a玩家分数是A,b玩家分数是B,假如a战胜了b,则获得50+(B-A)/5的分数,同时对方扣除等同的分数.
> 需要注意的是,该方法有可能算出一个负数,导致胜利了扣分,失败了加分,这当然是不太可行的,而且即使是一次挑战后不加不扣也是不合理的,因此这个数值应该限定至少为1,以此象征性的进行分数变化.
> ```
>
> ```
> 之前对于rating每赛季的重置,我设计了一个阈值3000,凡是低于此分数都重置至2000,凡是高于此分数的,也会重置至3000以下.
> 原因是,3000是我设计的一个防伏地魔的分数线,因为失败就会扣分,所以如果实力很低,又一直不打,分数下降的就慢,而同样实力的人一直打竞技场,分数反而更低,这当然不利于竞技场的活跃性.
> 因此,凡是低于3000rating的人,在即将扣分时,会少扣许多,具体规则如下.
> 设失败者当前分数为A,则实际扣分只扣( 正常扣分*max(0,min(A/1000-2,1)) )这么多的分数,这样,低于3000分时,只要频繁去打,总是能上分的,伏地魔就被消灭了,同时,这样的机制也保证了竞技场的活跃度,活跃度上来,游戏活力就提高了,这样挑战次数多了,rating的准确性也提升了,一举多得.
> ```
>
> ```tex
> 如上段所言,为了追求活跃度和评估的准确性,竞技场可不设置挑战次数上限,不设置体力消耗,只有一定的冷却时间限制.
> 当一个玩家在当月打了50次以上时,分数评价就会比较准确,100次左右就基本稳定了.
> 而这只需要每天打3场左右即可.建议设置冷却时间为5分钟,并且独立于刷怪冷却计算.
> ```

##竞技场商店

>```tex
>竞技场商店会出售一些专属商品或服务,作为奖励,这些专属商品都需要竞技场专属货币"英雄币"来购买.
>英雄币获取途径仅有竞技场周结算与月结算.
>以下是可能的商品和服务.
>```
>|  商品   | 作用  |  价格  |购买条件|
>|  ----  | ----  | ----  | ----|
>| 天赋重构| 重新随机自身天赋 | 2000 | 无|
>| 天赋晋升| 概率提升自身天赋 | 1000 | 无|
>| BOSS挑战券|可以进行一次boss挑战|100|无|
>| 称号:竞技场新秀|攻+8,生命+30,防御+4,签到体力+10|2000|rating>=3000|
>| 称号:竞技场高手|攻+10,生命+40,防御+5,签到体力+15|3000|rating>=待定|
>| 称号:竞技场主宰|待定|                         3000|月结算中获得第一名|
## 周结算

> ```tex
> 为了持续维持活跃度,设置周结算体系,每周结算一次小奖励.
> 周结算时,仅rating>=2200分(待定)的玩家参与.
> 因为之前说了,只要肯打,分数是一定会上去的,除非谁也打不过,但是毕竟低分段还有一些刚注册就退坑的,所以随便升两级就好了,rating>=2200是为了保证一定的活跃度.
> ```
>
> ```tex
> 周计算只发放英雄币奖励,发放量计算方式如下
> 1.基准发放量,凡满足结算要求者,均发放500英雄币
> 2.排名奖励,对所有满足结算要求的玩家进行排名,排名奖励如下表
> ```
>
> |分段|英雄币|
> |----|----|
> |前2%|500|
> |前5%|400|
> |前10%|300|
> |前20%|220|
> |前40%|160|
> |前60%|100|
> |前80%|60|

## 月结算

> ```tex
> 类似于周结算,每月进行一次月结算,与之不同的是,月结算奖励更丰厚多样,而且还会重置rating分数.
> 月计算分为英雄币结算和其他奖励组成.
> 英雄币部分又由两部分组成,一部分等同于一次额外的周结算奖励,另一部分是额外的高段排名奖励,具体如下表.
> ```
>
> |排名|奖励|
> |----|----|
> |1|500|
> |2|420|
> |3|350|
> |4|290|
> |5|240|
> |6|200|
> |7|170|
> |8|140|
> |9|120|
> |10|100|
> ```tex
> 除此之外,还有其他奖励,比如如果获得第一名,则拥有"竞技场主宰"称号的兑换权.
> 这部分目前还没有什么想法,等到竞技场出来之后看情况来定吧.
> ```
